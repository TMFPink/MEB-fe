<div
  class="card bg-white rounded-3xl shadow-md overflow-hidden cursor-pointer lg:w-[20vw] 3xl:w-[15vw] 4xl:w-[10vw] h-auto"
  (click)="openPopup()"
>
  <div class="card-image h-40 relative">
    <div
      class="absolute inset-0"
      [style.background-image]="'url(' + article.thumbnail + ')'"
      [style.background-size]="'cover'"
      [style.background-position]="'center'"
    ></div>
  </div>
  <div class="flex flex-col justify-between h-[200px] py-4 px-2">
    <div class="flex justify-between">
      <div class="flex flex-wrap gap-2 mb-2">
        <ng-container *ngFor="let tag of tags">
          <div
            class="text-xs font-bold py-1 px-2 rounded"
            [style.background-color]="contentTypeColor(tag)"
            [style.color]="'white'"
          >
            {{ tag.toUpperCase() }}
          </div>
        </ng-container>
      </div>

      <div *ngIf="!isBookmarked">
        <span
          class="icon-[material-symbols--bookmark-outline]"
          class="'w-8 h-8"
        >
        </span>
      </div>
      <div *ngIf="isBookmarked">
        <span
          class="icon-[material-symbols--bookmark]"
          style="color: #ffea00"
          class="'w-8 h-8"
        ></span>
      </div>
    </div>

    <h3 class="font-bold mb-1 text-2xl">{{ title }}</h3>
    <div class="flex justify-between">
      <p class="author text-sm mb-2" style="color: var(--font-color)">
        {{ author }}
      </p>
      <p class="date text-sm mb-2" style="color: var(--font-color)">
        {{ date }}
      </p>
    </div>

    <div
      class="card-stats flex justify-between text-sm"
      style="color: var(--font-color)"
    >
      <span class="views flex items-center text-xl">
        <span
          nz-icon
          nzType="caret-up"
          nzTheme="outline"
          class="text-3xl"
        ></span>
        <span class="ml-2">{{ upvotes | number }}</span>
      </span>
    </div>
  </div>
</div>

<app-blog-popup
  *ngIf="isPopupVisible"
  [article]="article"
  (close)="closePopup()"
>
</app-blog-popup>
